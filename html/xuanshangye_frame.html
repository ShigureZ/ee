<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width" />
	<meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
	<title></title>
	<link rel="stylesheet" type="text/css" href="../css/api.css" />
	<link rel="stylesheet" type="text/css" href="../css/aui.css" />
	<title>Document</title>
	<style type="text/css">
		.wrap {
			width: 100%;
			background: white;
		}

		.center {
			width: 100%;
			position: relative;
			border-bottom: 1px solid #f2f2f2;
		}

		.center2 {
			width: 100%;
			position: relative;
			padding-top: 5px;
		}

		.text-area {
			width: 100%;
			height: 6rem;
			margin-top: 0.8rem;
			color: #333;
			font-size: 0.9rem;
			padding-left: 15px;
		}

		.camera {
			width: 18.7%;
			margin-left: 0.75rem;
		}

		.camera div {
			text-align: center;
			font-style: normal;
			font-family: '微软雅黑';
			font-size: 0.65rem;
			color: #989898;
		}

		.type {
			padding-right: 15px;
		}

		.type-1 {
			display: inline-block;
			margin-left: 15px;
			font-size: 0.8rem;
		}

		.type-2 {
			display: inline-block;
			float: right;
			border-radius: 5px;
			background-color: #48b9fd;
		}

		.type-2 select {
			height: 25px;
			color: #fff;
			background-color: #48b9fd;
			border-radius: 5px;
		}

		.zhankong {
			width: 100%;
			height: 15px;
		}
		/*.type {
			width: 100%;
			height: 1rem;
			border-bottom:0.05rem solid #f2f2f2;
		}

		.type-1 {
			width:50%;
			margin-left: 0.75rem;
			font-family: '微软雅黑';
			font-size: 0.7rem;
			display: inline-block;
		}

		.type-2 {
			width: 30%;
			height: 0.6rem;
			font-family: '微软雅黑';
			font-size: 0.65rem;
			color: #989898;
			display: inline-block;
		}

		.type-2 select {
			font-size: 0.65rem;

		}*/

		.type img {
			width: 6%;
			height: 1.1rem;
			float: left;
		}
		/*	.text-area-2 {
			width: 72.3%;
			margin-left: 0.75rem;
			font-family: '微软雅黑';
			font-size: 0.7rem;
			top: 14.9rem;
			position: absolute;
		}

		.text-area-3 {
			width: 20%;
			height: 1.1rem;
			margin-left:7.75rem;
			border-bottom: 0.05rem solid #989898;
			font-family: '微软雅黑';
			font-size: 0.8rem;
			color: #989898;
			top: 16.6rem;
			position: absolute;
		}*/

		.text-area-2 {
			width: 1.6rem;
			display: block;
			margin: auto;
			font-size: 0.8rem;
			margin-bottom: 15px;
		}

		/*.jinekuang {
			width: 100%;
		}*/

		.center2 input {
			width: 20%;
			height: 1.1rem;
			float: right;
			border-bottom: 1px solid #989898;
			margin-bottom: 5px;
			text-align: center;
		}

		.center2 span {
			display: inline-block;
			float: right;
			margin-right:38%;
		}

		.center3 {
			position: relative;
			width: 100%;
			display: block;
		}


		.button {
			width: 53%;
			height: 2rem;
			padding-top: 0.5rem;
			background: #48b9fd;
			margin: 0rem auto;
			border-radius: 0.3rem;
		}

		.button i {
			display: block;
			font-family: '微软雅黑';
			font-size: 0.7rem;
			font-style: normal;
			color: white;
			text-align: center;
		}

		.text-area-4 {
			width: 100%;
			height: 2rem;
			display: block;
			margin-top:15%;
		}

		.text-area-4 i {
			display: block;
			margin-right: 1.2rem;
			margin-left: 1.2rem;
			font-size: 0.65rem;
			font-family: '微软雅黑';
			font-style: normal;
			color: #989898;
		}

		.button2 {
			width: 76%;
			height: 2rem;
			padding-top: 0.5rem;
			background: #48b9fd;
			margin: auto;
			margin-top: 30%;
			border-radius: 0.3rem;
		}

		.button2 i {
			display: block;
			font-family: '微软雅黑';
			font-size: 0.8rem;
			font-style: normal;
			color: white;
			text-align: center;
		}
	</style>
</head>

<body>
	<div class="wrap">
		<div class="center">
			<textarea id="content" name="name" rows="8" cols="80" placeholder="请输入内容 记得写清时间地点呦" class="text-area"></textarea>
			<div class="camera">
				<img src="../image/xiangji.png" alt="">
				<div>上传照片</div>
			</div>
			<div class="type">
				<span class="type-1">分类</span>
				<div class="type-2">
					<select id="type">
								<option value ="1" >学习交流</option>
								<option value ="2" >代取快递</option>
								<option value ="3" >帮忙带饭</option>
								<option value ="4" >二手交易</option>
						</select>
				</div>
			</div>
			<div class="zhankong">
			</div>
		</div>
		<div class="center2">
			<div class="text-area-2">赏金</div>
			<span >元</span>
			<input type="text" class="text-area-3" placeholder="0.00" id="reward">
		</div>
			<div class="button2" onclick="save()">
				<i>支付赏金并发布</i>
			</div>
			<div class="text-area-4">
				<i>任务 悬赏金共同发布到平台，应赏者完成任务后，悬赏者
					确认完成或应赏者确认完成则悬赏金到应赏者</i>
			</div>
	</div>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/APICloud-rest-SHA1.js"></script>
<script type="text/javascript" src="../script/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../script/doT.js"></script>
<script type="text/javascript">
    apiready = function() {

    };

    function save() {
        var content = $("#content").val();
				var reward = $("#reward").val();
				var type = $("#type").val();
        //获取用户信息
        var userInfo = $api.getStorage('user_info');
        //alert(userInfo.nickname);

        var client = new Resource("A6076425356783", "751FE5FD-0553-E755-CB71-4B935B5E8B84");
        var Model = client.Factory("main_reward");
        Model.save({
            "content": content,
						"reward": reward,
						"type": type,
            "likeNum": 0,
            "collNum": 0,
            "viewNum": 0,
            "author": userInfo.nickname
        }, function(ret, err) {
            if (err) {
                //处理错误 err
            } else {
                //处理数据 ret
                //alert(JSON.stringify(ret));//刚添加的记录的完整信息
                alert("发布成功！");
                api.sendEvent({
                    name: 'reloadArticleList',
                })
                api.closeWin({});
            };
        });
    };
</script>
</html>
